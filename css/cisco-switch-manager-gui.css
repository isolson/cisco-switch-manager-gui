/* Hide the content logo since we have branding in the nav bar */
#logo {
	display: none;
}

/* Also hide the title container if empty */
h1#title {
	display: none;
}

/* Top menu - responsive flexbox layout */
#topmenu {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	align-items: center;
	padding: 8px 15px;
	gap: 10px;
}

.topmenu-left {
	display: flex;
	align-items: center;
}

.topmenu-center {
	display: flex;
	flex-wrap: wrap;
	align-items: center;
	gap: 5px;
	justify-content: center;
	flex: 1;
}

.topmenu-right {
	display: flex;
	flex-wrap: wrap;
	align-items: center;
	gap: 5px;
	justify-content: flex-end;
}

/* Brand styling */
.brand-link {
	display: flex;
	align-items: center;
	text-decoration: none;
	color: #333;
	font-weight: bold;
	font-size: 1.1em;
	gap: 8px;
	white-space: nowrap;
}

.brand-link:hover {
	color: #cc0000;
}

.brand-icon {
	display: inline-block;
	width: 28px;
	height: 16px;
	background-color: #cc0000;
	border-radius: 2px;
	position: relative;
}

.brand-icon::before {
	content: '';
	position: absolute;
	top: 3px;
	left: 3px;
	right: 3px;
	bottom: 3px;
	background: repeating-linear-gradient(
		to right,
		#fff 0px, #fff 3px,
		transparent 3px, transparent 5px
	);
}

.brand-text {
	color: inherit;
}

#zoomlinks {
	display: inline-flex;
	gap: 3px;
	margin-left: 10px;
}

#zoomlinks a {
	min-width: 45px;
	padding: 5px 8px;
	font-size: 0.85em;
}

form:not(#frmLogin) .form-row {
	margin-bottom: 	10px;
}
form:not(#frmLogin) .form-row.last {
	margin-bottom: 	0px !important;
}
.multirow {
	display: 		flex;
	flex-direction: row;
	gap: 			10px;
}
#subtitle {
	margin-bottom: 	25px;
}
#imgContainer {
	display: 		inline-block;
	position: 		relative;
	float: 			right;
	width: 			90px;
	min-height: 	47px;
	margin-left: 	15px;
	margin-bottom: 	15px;
}
#imgContainer > * {
	position: 		absolute;
	width: 			100%;
}
#imgLoading, #imgTick {
	height: 		47px;
	width: 			auto;
	right: 			0px;
}
#imgLoading {
	opacity: 		0; /* will be displayed via js */
}
.delayOut {
	opacity: 		1;
	animation: 		delayOut 0.3s ease 2s 1 forwards;
}
.delayIn {
	opacity: 		0;
	animation: 		delayIn 0.3s ease 2.3s 1 forwards;
}
@keyframes delayIn {
	0% { opacity: 0; }
	100% { opacity: 1; }
}
@keyframes delayOut {
	0% { opacity: 1; }
	100% { opacity: 0; }
}

/* index.php style definitions */
.pulse {
	animation: pulse 4s ease-in-out;
}
@keyframes pulse {
	00% { transform: scale(0.86); }
	15% { transform: scale(1.15); }
	25% { transform: scale(0.90); }
	35% { transform: scale(1.12); }
	45% { transform: scale(0.92); }
	55% { transform: scale(1.10); }
	65% { transform: scale(1.00); }
}
img[src='img/disabled.svg'] {
	animation: blink 3s ease-in-out;
}
@keyframes blink {
	00% { opacity: 0.1; }
	10% { opacity: 1.0; }
	20% { opacity: 0.1; }
	30% { opacity: 1.0; }
	40% { opacity: 0.1; }
	50% { opacity: 1.0; }
	60% { opacity: 0.1; }
	70% { opacity: 1.0; }
	80% { opacity: 0.1; }
	90% { opacity: 1.0; }
}
.demoStatusIcon {
	display: table;
}
.demoStatusIcon:not(:last-child) {
	margin-bottom: 5px;
}
.demoStatusIcon > img {
	display: table-cell;
	vertical-align: middle;
	background-color: rgba(255,255,255,1);
	border-radius: 4px;
	position: static;
}
.demoStatusIcon > span {
	display: table-cell;
	vertical-align: middle;
}
.easteregg-trigger {
	cursor: url('../img/alert.png') 24 24, pointer;
}
.tip {
	color: 				rgb(150,150,150);
	position: 			absolute;
	top: 				11px;
	right: 				35px;
	pointer-events: 	none;
}
.tipicon {
	position: 			absolute;
	top: 				11px !important;
	right: 				85px !important;
	opacity: 			0.75;
	pointer-events: 	all !important;
}
.hand {
	cursor: 			pointer;
}

/* maps.php style definitions */
.slubbutton.blink {
	outline: 			10px solid rgb(230,0,0); outline-offset: 10px;
	animation: 			slubbutton-blink 1s infinite;
}
@keyframes slubbutton-blink {
	0% { outline: 10px solid rgb(230,0,0); outline-offset: 2px; }
	75% { outline: 5px solid transparent; outline-offset: 20px; }
	100% { outline: 5px solid transparent; outline-offset: 20px; }
}
#maplist > * {
	display: block;
	margin-bottom: 10px;
}
#maplist > *:last-child {
	margin-bottom: 0px;
}
#mapcontainer {
	margin: 0px;
	margin-top: 60px;
	text-align: left;
	position: absolute;
	cursor: move;
}
#mapcontainer, #mapcontainer * {
	user-drag: none;
	user-select: none;
	-moz-user-select: none;
	-webkit-user-drag: none;
	-webkit-user-select: none;
	-ms-user-select: none;
}
.switchonmaplink, .anchor {
	position: absolute;
}

.toolbar-margin-top {
	margin-top: 15px;
}
.spread-toolbar {
	display: 			flex;
	flex-direction: 	row;
	flex-wrap: 			nowrap;
	justify-content: 	space-between;
	align-items: 		center;
}
.stretched-toolbar {
	display: 			flex;
	flex-direction: 	row;
	flex-wrap: 			nowrap;
	justify-content: 	space-between;
	align-items: 		center;
	gap: 				10px;
}
.stretched-toolbar > * {
	flex-grow: 			1;
	flex-shrink: 1;
	min-width: auto;
}
.stretched-toolbar > a.slubbutton {
	font-size: 80%;
	padding: 5px;
}
.stretched-toolbar > a.slubbutton img {
	display: block;
	margin: auto;
	margin-bottom: 2px;
}

#sshDebugOutput {
	display: 			none;
}

.marginbottom {
	margin-bottom: 10px;
}

/* ===========================================
   THEME SWITCHING SUPPORT
   =========================================== */

/* ============ LIGHT THEME ============ */
/* Force light mode - overrides system dark preference */
[data-theme="light"],
[data-theme="light"] body {
	color: #333 !important;
	background-color: #e8e8e8 !important;
	background-image: none !important;
}

[data-theme="light"] #splash {
	background-color: rgba(255,255,255,0.95) !important;
	color: #333 !important;
}

[data-theme="light"] #splash *,
[data-theme="light"] #subtitle,
[data-theme="light"] h1, [data-theme="light"] h2, [data-theme="light"] h3,
[data-theme="light"] p, [data-theme="light"] label, [data-theme="light"] span,
[data-theme="light"] td, [data-theme="light"] th, [data-theme="light"] li {
	color: #333 !important;
}

[data-theme="light"] .brand-link,
[data-theme="light"] .brand-text {
	color: #333 !important;
}

[data-theme="light"] .brand-link:hover {
	color: #cc0000 !important;
}

[data-theme="light"] #topmenu {
	background-color: rgba(255,255,255,0.9) !important;
	border-bottom: 1px solid #ccc;
}

[data-theme="light"] #footer {
	border-color: #ccc !important;
}

[data-theme="light"] #footer,
[data-theme="light"] #footer * {
	color: #666 !important;
}

[data-theme="light"] .slubbutton {
	background-color: #008CA0 !important;
	border-color: #006070 !important;
	color: white !important;
}

[data-theme="light"] .slubbutton:hover {
	background-color: #006070 !important;
}

[data-theme="light"] .slubbutton.secondary {
	background-color: #f0f0f0 !important;
	border-color: #008CA0 !important;
	color: #006070 !important;
}

[data-theme="light"] .slubbutton.secondary:hover {
	background-color: #d0d0d0 !important;
}

[data-theme="light"] .slubbutton.destructive {
	background-color: #fff0f0 !important;
	border-color: #cc0000 !important;
	color: #cc0000 !important;
}

[data-theme="light"] .slubbutton.destructive:hover {
	background-color: #ffdddd !important;
}

[data-theme="light"] textarea,
[data-theme="light"] select,
[data-theme="light"] input[type=text],
[data-theme="light"] input[type=password],
[data-theme="light"] input[type=number] {
	color: #333 !important;
	background-color: #fff !important;
	border-color: #ccc !important;
}

[data-theme="light"] .tab-nav a {
	background-color: #e0e0e0 !important;
	color: #333 !important;
	border-color: #ccc !important;
}

[data-theme="light"] .tab-nav a.active {
	background-color: #fff !important;
}

[data-theme="light"] .tab-content {
	background-color: #fff !important;
	border-color: #ccc !important;
}

[data-theme="light"] .settings-section {
	background-color: #f5f5f5 !important;
}

[data-theme="light"] .data-table th {
	background-color: #f0f0f0 !important;
}

[data-theme="light"] .data-table tr:hover {
	background-color: #f5f5f5 !important;
}

[data-theme="light"] .hint {
	color: #666 !important;
}

[data-theme="light"] .infobox {
	color: #333 !important;
}

[data-theme="light"] a {
	color: #008CA0 !important;
}

[data-theme="light"] a:hover {
	color: #006070 !important;
}

/* ============ DARK THEME ============ */
/* Explicit dark mode - light text on dark backgrounds */
[data-theme="dark"],
[data-theme="dark"] body {
	color: #e0e0e0 !important;
	background-color: #1a1a1a !important;
}

[data-theme="dark"] #splash {
	background-color: rgba(40,40,40,0.95) !important;
	color: #e0e0e0 !important;
}

[data-theme="dark"] #splash *,
[data-theme="dark"] #subtitle,
[data-theme="dark"] h1, [data-theme="dark"] h2, [data-theme="dark"] h3,
[data-theme="dark"] p, [data-theme="dark"] label, [data-theme="dark"] span,
[data-theme="dark"] td, [data-theme="dark"] th, [data-theme="dark"] li {
	color: #e0e0e0 !important;
}

[data-theme="dark"] .brand-link,
[data-theme="dark"] .brand-text {
	color: #fff !important;
}

[data-theme="dark"] .brand-link:hover {
	color: #ff6666 !important;
}

[data-theme="dark"] #topmenu {
	background-color: rgba(30,30,30,0.95) !important;
	border-bottom: 1px solid #444;
}

[data-theme="dark"] #footer {
	border-color: #444 !important;
}

[data-theme="dark"] #footer,
[data-theme="dark"] #footer * {
	color: #888 !important;
}

[data-theme="dark"] .slubbutton {
	background-color: #008CA0 !important;
	border-color: #00ABC3 !important;
	color: white !important;
}

[data-theme="dark"] .slubbutton:hover {
	background-color: #00ABC3 !important;
}

[data-theme="dark"] .slubbutton.secondary {
	background-color: #2a2a2a !important;
	border-color: #00ABC3 !important;
	color: #40E7FF !important;
}

[data-theme="dark"] .slubbutton.secondary:hover {
	background-color: #3a3a3a !important;
}

[data-theme="dark"] .slubbutton.destructive {
	background-color: #2a1a1a !important;
	border-color: #ff4444 !important;
	color: #ff6666 !important;
}

[data-theme="dark"] .slubbutton.destructive:hover {
	background-color: #3a2a2a !important;
}

[data-theme="dark"] textarea,
[data-theme="dark"] select,
[data-theme="dark"] input[type=text],
[data-theme="dark"] input[type=password],
[data-theme="dark"] input[type=number] {
	color: #e0e0e0 !important;
	background-color: #2a2a2a !important;
	border-color: #555 !important;
}

[data-theme="dark"] .tab-nav a {
	background-color: #333 !important;
	color: #ccc !important;
	border-color: #555 !important;
}

[data-theme="dark"] .tab-nav a.active {
	background-color: #2a2a2a !important;
	color: #fff !important;
}

[data-theme="dark"] .tab-content {
	background-color: #2a2a2a !important;
	border-color: #555 !important;
}

[data-theme="dark"] .settings-section {
	background-color: #333 !important;
}

[data-theme="dark"] .data-table th {
	background-color: #333 !important;
}

[data-theme="dark"] .data-table tr:hover {
	background-color: #383838 !important;
}

[data-theme="dark"] .data-table,
[data-theme="dark"] .data-table td,
[data-theme="dark"] .data-table th {
	border-color: #444 !important;
}

[data-theme="dark"] .hint {
	color: #999 !important;
}

[data-theme="dark"] .infobox {
	color: #e0e0e0 !important;
}

[data-theme="dark"] a {
	color: #40E7FF !important;
}

[data-theme="dark"] a:hover {
	color: #80f0ff !important;
}

[data-theme="dark"] .demoStatusIcon > img {
	background-color: rgba(60,60,60,1) !important;
}

[data-theme="dark"] .modal-content {
	background-color: #2a2a2a !important;
}

[data-theme="dark"] .theme-option {
	background-color: #333 !important;
	border-color: #555 !important;
	color: #e0e0e0 !important;
}

[data-theme="dark"] .theme-option.active {
	border-color: #cc0000 !important;
	background-color: #3a2a2a !important;
}

/* ============ SYSTEM PREFERENCE DARK MODE ============ */
/* When system prefers dark and no explicit theme is set */
/* The webdesign template has white content boxes - we need dark text inside them */
@media (prefers-color-scheme: dark) {
	/* Nav bar elements - keep light for dark nav background */
	html:not([data-theme]) .brand-link,
	html:not([data-theme]) .brand-text {
		color: #fff;
	}
	html:not([data-theme]) .brand-link:hover {
		color: #ff6666;
	}
	html:not([data-theme]) .demoStatusIcon > img {
		background-color: rgba(60,60,60,1);
	}

	/*
	 * CRITICAL FIX: The webdesign template creates white content boxes (#splash)
	 * but system dark mode sets light text globally. We must force dark text
	 * inside these white boxes for readability.
	 */
	html:not([data-theme]) #splash {
		color: #333 !important;
	}

	/* Target ALL elements inside splash - this is the main content area */
	html:not([data-theme]) #splash *:not(.slubbutton):not(.brand-text):not(.brand-link):not(.progress-output):not(.progress-output *) {
		color: #333 !important;
	}

	/* Buttons should keep their proper colors */
	html:not([data-theme]) #splash .slubbutton {
		color: white !important;
	}
	html:not([data-theme]) #splash .slubbutton.secondary {
		color: #006070 !important;
	}
	html:not([data-theme]) #splash .slubbutton.destructive {
		color: #cc0000 !important;
	}

	/* Progress/terminal output should stay dark with light text */
	html:not([data-theme]) .progress-output,
	html:not([data-theme]) .progress-output * {
		color: #0f0 !important;
		background-color: #1e1e1e !important;
	}
	html:not([data-theme]) .progress-output .changeok {
		color: #4caf50 !important;
	}
	html:not([data-theme]) .progress-output .changefail {
		color: #f44336 !important;
	}

	/* Tab navigation */
	html:not([data-theme]) .tab-nav a {
		color: #333 !important;
		background-color: #f5f5f5 !important;
	}
	html:not([data-theme]) .tab-nav a.active {
		background-color: #fff !important;
	}

	/* Hints and secondary text */
	html:not([data-theme]) .hint {
		color: #666 !important;
	}

	/* Info boxes with specific states */
	html:not([data-theme]) .infobox {
		color: #333 !important;
	}
	html:not([data-theme]) .infobox.warn {
		background-color: #fff3cd !important;
		color: #856404 !important;
	}
	html:not([data-theme]) .infobox.ok {
		background-color: #d4edda !important;
		color: #155724 !important;
	}
	html:not([data-theme]) .infobox.info {
		background-color: #cce5ff !important;
		color: #004085 !important;
	}
	html:not([data-theme]) .infobox.error {
		background-color: #f8d7da !important;
		color: #721c24 !important;
	}

	/* Links inside white content areas */
	html:not([data-theme]) #splash a:not(.slubbutton):not(.brand-link) {
		color: #008CA0 !important;
	}

	/* Form inputs */
	html:not([data-theme]) #splash input[type="text"],
	html:not([data-theme]) #splash input[type="password"],
	html:not([data-theme]) #splash input[type="url"],
	html:not([data-theme]) #splash input[type="number"],
	html:not([data-theme]) #splash select,
	html:not([data-theme]) #splash textarea {
		color: #333 !important;
		background-color: #fff !important;
		border-color: #ccc !important;
	}

	/* Backup status badges */
	html:not([data-theme]) .backup-status.status-ok {
		background-color: #d4edda !important;
		color: #155724 !important;
	}
	html:not([data-theme]) .backup-status.status-error {
		background-color: #f8d7da !important;
		color: #721c24 !important;
	}
	html:not([data-theme]) .backup-status.status-pending {
		background-color: #fff3cd !important;
		color: #856404 !important;
	}
	html:not([data-theme]) .backup-status.status-none {
		background-color: #e9ecef !important;
		color: #495057 !important;
	}

	/* GitHub status box */
	html:not([data-theme]) .github-status {
		color: #333 !important;
	}

	/* Switch list table */
	html:not([data-theme]) .switch-list th,
	html:not([data-theme]) .switch-list td {
		color: #333 !important;
	}

	/* Data tables */
	html:not([data-theme]) .data-table th,
	html:not([data-theme]) .data-table td {
		color: #333 !important;
	}

	/* Theme options on settings page */
	html:not([data-theme]) .theme-option {
		color: #333 !important;
	}

	/* Modal content */
	html:not([data-theme]) .modal-content,
	html:not([data-theme]) .modal-content * {
		color: #333 !important;
	}

	/* Settings sections */
	html:not([data-theme]) .settings-section,
	html:not([data-theme]) .settings-section * {
		color: #333 !important;
	}

	/* Setup steps on backup page */
	html:not([data-theme]) .setup-step,
	html:not([data-theme]) .setup-step * {
		color: #333 !important;
	}
}

/* mobile device adjustments */
@media only screen and (max-width: 768px) {
	#topmenu {
		flex-direction: column;
		align-items: stretch;
		padding: 10px;
	}

	.topmenu-left {
		justify-content: center;
		margin-bottom: 5px;
	}

	.topmenu-center {
		justify-content: center;
		order: 3;
	}

	.topmenu-right {
		justify-content: center;
		order: 2;
		margin-bottom: 5px;
	}

	.brand-text {
		font-size: 0.95em;
	}

	#zoomlinks {
		margin-left: 0;
		margin-top: 5px;
	}
}

@media only screen and (max-width: 620px) {
	#function_intstatuslist,
	#function_intmatrix,
	#function_search {
		display: block;
		float: none;
	}
	.tipicon {
		top: 9px !important;
		right: 75px !important;
	}

	.topmenu-center a.slubbutton,
	.topmenu-right a.slubbutton {
		padding: 8px 12px;
		font-size: 0.9em;
	}
}

/* widescreen adjustments */
@media only screen and (min-width: 1200px) {
	#topmenu {
		padding: 10px 30px;
	}

	.topmenu-center {
		gap: 10px;
	}
}
